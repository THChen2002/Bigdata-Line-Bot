{% extends 'admin/base.html' %}

{% block title %}後台管理系統 - 使用者管理{% endblock %}

{% block head %}
    <script>
        let usersData = JSON.parse('{{ users|tojson|safe }}');
    </script>
    <script src="{{ url_for('static', filename='js/components/data_table.js') }}"></script>
    <script src="{{ url_for('static', filename='js/admin/users.js') }}"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin/users.css') }}">
{% endblock %}

{% block content %}
<div id="mainContent" class="d-none">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="mb-0"><i class="bi bi-people-fill me-2"></i>使用者管理</h2>
    </div>
    
    {% from 'components/data_table.html' import data_table %}
    {{ data_table(
        search_placeholder="搜尋使用者ID、名稱...",
        table_id='user-table',
        search_id='user-search',
        filter_panel_id='userFilterPanel',
        table_body_id='user-table-body',
        columns=[
            {'key': 'id', 'label': 'ID'},
            {'key': 'userId', 'label': 'User ID'},
            {'key': 'displayName', 'label': '使用者名稱'},
            {'key': 'YtChannel', 'label': 'YT名稱'},
            {'key': 'ytLevel', 'label': 'YT會員等級'},
            {'key': 'joinAt', 'label': '加入日期'}
        ],
        show_add_button=false
    ) }}
</div>
{% endblock %}